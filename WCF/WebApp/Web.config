<?xml version="1.0" encoding="utf-8"?>
<!--
  Дополнительные сведения по настройке приложения ASP.NET см. по ссылке
  http://go.microsoft.com/fwlink/?LinkId=169433
  -->
<configuration>
  <configSections>
    <section name="entityFramework" type="System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
    <!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 -->
    <!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 -->
    <!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 -->
  </configSections>
  <system.web>
    <compilation debug="true" targetFramework="4.0" />
    <authentication mode="Forms">
      <forms loginUrl="~/Home/SiteEntry" timeout="56799" slidingExpiration="true" />
    </authentication>
    <machineKey validationKey="C50B3C89CB21F4F1422FF158A5B42D0E8DB8CB5CDA1742572A487D9401E3400267682B202B746511891C1BAF47F8D25C07F6C39A104696DB51F17C529AD3CABE" decryptionKey="8A9BE8FD67AF6979E7D20198CFEA50DD3D3799C77AF2B72F" validation="SHA1" />
    <membership defaultProvider="OdbcMembershipProvider" userIsOnlineTimeWindow="15">
      <providers>
        <clear />
        <add name="OdbcMembershipProvider" 
             type="Samples.AspNet.Membership.OdbcMembershipProvider, MrpOdbcProvider" 
             connectionStringName="OdbcServices" 
             enablePasswordRetrieval="true" 
             enablePasswordReset="true" 
             maxInvalidPasswordAttempts="7" 
             passwordAttemptWindow="5" 
             requiresQuestionAndAnswer="false" 
             requiresUniqueEmail="false" 
             writeExceptionsToEventLog="true"
             applicationName="/"/>
      </providers>
    </membership>
    <profile defaultProvider="OdbcProfileProvider" automaticSaveEnabled="false">
      <providers>
        <add name="OdbcProfileProvider" type="Samples.AspNet.Profile.OdbcProfileProvider, MrpOdbcProvider" connectionStringName="OdbcServices" applicationName="/" />
      </providers>
      <properties>
        <add name="FIO" type="String" />
        <add name="Unit" type="String" />
      </properties>
    </profile>
    <!--
    <customErrors mode="On" defaultRedirect="/Error">
      <error redirect="~/Error/NotFound" statusCode="404"/>
      <error redirect="~/Error/General" statusCode="500"/>
    </customErrors>
    -->
    <roleManager defaultProvider="OdbcRoleProvider" enabled="true" cacheRolesInCookie="true" cookieName=".ASPROLES" cookieTimeout="30" cookiePath="/" cookieRequireSSL="false" cookieSlidingExpiration="true" cookieProtection="All">
      <providers>
        <clear />
        <add name="OdbcRoleProvider" type="Samples.AspNet.Roles.OdbcRoleProvider, MrpOdbcProvider" connectionStringName="OdbcServices" writeExceptionsToEventLog="true" applicationName="/"/>
      </providers>
    </roleManager>
    
    <!--If you are deploying to a cloud environment that has multiple web server instances,
            you should change session state mode from "InProc" to "Custom". In addition,
            change the connection string named "DefaultConnection" to connect to an instance
            of SQL Server (including SQL Azure and SQL  Compact) instead of to SQL Server Express.-->
    <!--<sessionState mode="InProc" customProvider="DefaultSessionProvider">
      <providers>
        <add name="DefaultSessionProvider" type="System.Web.Providers.DefaultSessionStateProvider, System.Web.Providers, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" connectionStringName="DefaultConnection" />
      </providers>
    </sessionState>-->
  </system.web>
  <system.web.extensions>
    <scripting>
      <webServices>
        <authenticationService enabled="true" requireSSL="false" />
        <profileService enabled="true" />
        <roleService enabled="true" />
      </webServices>
    </scripting>
  </system.web.extensions>
  <entityFramework>
    <defaultConnectionFactory type="System.Data.Entity.Infrastructure.SqlCeConnectionFactory, EntityFramework">
      <parameters>
        <parameter value="System.Data.SqlServerCe.4.0" />
      </parameters>
    </defaultConnectionFactory>
    <providers>
      <provider invariantName="System.Data.SqlServerCe.4.0" type="System.Data.Entity.SqlServerCompact.SqlCeProviderServices, EntityFramework.SqlServerCompact" />
    </providers>
  </entityFramework>
  <system.data>
    <DbProviderFactories>
      <remove invariant="System.Data.SqlServerCe.4.0" />
      <add name="Microsoft SQL Server Compact Data Provider 4.0" invariant="System.Data.SqlServerCe.4.0" description=".NET Framework Data Provider for Microsoft SQL Server Compact" type="System.Data.SqlServerCe.SqlCeProviderFactory, System.Data.SqlServerCe, Version=4.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" />
    </DbProviderFactories>
  </system.data>
  <connectionStrings>
    <add name="DefaultConnection" providerName="System.Data.SqlServerCe.4.0" connectionString="Data Source=|DataDirectory|\MRP_ACCESS.sdf;" />
    <add name="OdbcServices" connectionString="Driver={Microsoft Access Driver (*.mdb)};DBQ=|DataDirectory|URP_DB.mdb" />
  </connectionStrings>
  <system.serviceModel>
    <services>
      <service behaviorConfiguration="AppServiceBehaviors" name="System.Web.ApplicationServices.AuthenticationService">
        <endpoint binding="basicHttpBinding" bindingNamespace="http://asp.net/ApplicationServices/v200" contract="System.Web.ApplicationServices.AuthenticationService" />
      </service>
      <service behaviorConfiguration="AppServiceBehaviors" name="System.Web.ApplicationServices.RoleService">
        <endpoint binding="basicHttpBinding" bindingNamespace="http://asp.net/ApplicationServices/v200" contract="System.Web.ApplicationServices.RoleService" />
      </service>
      <service behaviorConfiguration="AppServiceBehaviors" name="System.Web.ApplicationServices.ProfileService">
        <endpoint binding="basicHttpBinding" bindingNamespace="http://asp.net/ApplicationServices/v200" contract="System.Web.ApplicationServices.ProfileService" />
      </service>
      <service behaviorConfiguration="AppServiceBehaviors" name="WebApp.MRPProviderSvcWrap">
        <endpoint binding="basicHttpBinding" bindingNamespace="http://tempuri.org/IMRPProviderSvcWrap" contract="WebApp.IMRPProviderSvcWrap" />
      </service>
    </services>
    <behaviors>
      <serviceBehaviors>
        <behavior name="AppServiceBehaviors">
          <serviceMetadata httpGetEnabled="true" />
          <serviceDebug includeExceptionDetailInFaults="true" />
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <serviceHostingEnvironment multipleSiteBindingsEnabled="true" aspNetCompatibilityEnabled="true" />
  </system.serviceModel>
</configuration>